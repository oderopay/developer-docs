
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Odero API"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;php&quot;,&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-cc102dc1.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#installation" class="toc-h2 toc-link" data-title="Installation">Installation</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#card-operations" class="toc-h1 toc-link" data-title="Card Operations">Card Operations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#store-card" class="toc-h2 toc-link" data-title="Store Card">Store Card</a>
                  </li>
                  <li>
                    <a href="#delete-card" class="toc-h2 toc-link" data-title="Delete Card">Delete Card</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payments" class="toc-h1 toc-link" data-title="Payments">Payments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-payment-request" class="toc-h2 toc-link" data-title="Create Payment Request">Create Payment Request</a>
                  </li>
                  <li>
                    <a href="#create-payment-link" class="toc-h2 toc-link" data-title="Create Payment Link">Create Payment Link</a>
                  </li>
                  <li>
                    <a href="#get-payment" class="toc-h2 toc-link" data-title="Get Payment">Get Payment</a>
                  </li>
                  <li>
                    <a href="#marketplace" class="toc-h2 toc-link" data-title="Marketplace">Marketplace</a>
                  </li>
                  <li>
                    <a href="#pay-with-saved-card" class="toc-h2 toc-link" data-title="Pay With Saved Card">Pay With Saved Card</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscriptions" class="toc-h1 toc-link" data-title="Subscriptions">Subscriptions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-subscription" class="toc-h2 toc-link" data-title="Create Subscription">Create Subscription</a>
                  </li>
                  <li>
                    <a href="#retry" class="toc-h2 toc-link" data-title="Retry">Retry</a>
                  </li>
                  <li>
                    <a href="#cancel" class="toc-h2 toc-link" data-title="Cancel">Cancel</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#payment" class="toc-h2 toc-link" data-title="Payment">Payment</a>
                  </li>
                  <li>
                    <a href="#deposit" class="toc-h2 toc-link" data-title="Deposit">Deposit</a>
                  </li>
                  <li>
                    <a href="#reverse" class="toc-h2 toc-link" data-title="Reverse">Reverse</a>
                  </li>
                  <li>
                    <a href="#refund" class="toc-h2 toc-link" data-title="Refund">Refund</a>
                  </li>
                  <li>
                    <a href="#stored-card" class="toc-h2 toc-link" data-title="Stored Card">Stored Card</a>
                  </li>
                  <li>
                    <a href="#remove-card" class="toc-h2 toc-link" data-title="Remove Card">Remove Card</a>
                  </li>
                  <li>
                    <a href="#status-codes" class="toc-h2 toc-link" data-title="Status Codes">Status Codes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#open-source" class="toc-h1 toc-link" data-title="Open Source">Open Source</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#opencart" class="toc-h2 toc-link" data-title="Opencart">Opencart</a>
                  </li>
                  <li>
                    <a href="#woocommerce" class="toc-h2 toc-link" data-title="Woocommerce">Woocommerce</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#test-cards" class="toc-h1 toc-link" data-title="Test Cards">Test Cards</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://odero.ro'>Return to Odero Homepage </a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the OderoPay API! You can use our API to access Odero API endpoints, which can get information on various payments, cards, recurrings, deposits, refunds in our database.</p>

<p>We have language bindings in Shell, Php, Python, and Nodejs! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h2 id='installation'>Installation</h2>
<p>You can access our SDK&#39;s directly on our <a href="https://github.com/oderopay">Github</a> Page.</p>
<h3 id='php'>PHP</h3>
<p><a href="https://github.com/oderopay/odero-php">Odero PHP Sdk</a></p>

<p><code>composer require oderopay/odero-php</code></p>

<p>Minimum Requirements;</p>

<ul>
<li>PHP 7.2 or later</li>
<li>curl</li>
<li>json</li>
<li>mbstring</li>
</ul>
<h2 id='authentication'>Authentication</h2>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="c1">//Authentication is already handled by SDK</span>
<span class="nv">$config</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\OderoConfig</span><span class="p">(</span><span class="s1">'My Store Name'</span><span class="p">,</span> <span class="s1">'{merchant-id}'</span><span class="p">,</span> <span class="s1">'{merchant-token}'</span><span class="p">,</span> <span class="err">\</span><span class="nc">Oderopay\OderoConfig</span><span class="o">::</span><span class="no">ENV_STG</span><span class="p">);</span>

<span class="c1">//Just initialize the Odero Client with given config.</span>
<span class="nv">$oderopay</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\OderoClient</span><span class="p">(</span><span class="nv">$config</span><span class="p">);</span>
</code></pre></div>
<p>To be authenticated, you need to send <code>X-MERCHANT-SIGNATURE</code> value in header.</p>

<p>The header X-MERCHANT-SIGNATURE is generated by each merchant when a new request is initialized to API Endpoints.</p>

<p>Items used in header generation:</p>

<ul>
<li>Merchant ID;</li>
<li>Payload (encoded as json);</li>
<li>Merchant API Token.</li>
</ul>

<p>Used Algorithm: sha256</p>

<p>How is the header generated?</p>

<aside>
MERCHANT-ID + | + sha256(MERCHANT-ID + PAYLOADED_ENCODED_AS_JSON + MERCHANT-API-TOKEN)
</aside>
<h1 id='card-operations'>Card Operations</h1><h2 id='store-card'>Store Card</h2><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$billingAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Address\BillingAddress</span><span class="p">();</span>
<span class="nv">$billingAddress</span>
    <span class="o">-&gt;</span><span class="nf">setAddress</span><span class="p">(</span><span class="s1">'185 Berry St #550, San Francisco, CA 94107, USA'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCity</span><span class="p">(</span><span class="s1">'San Francisco'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCountry</span><span class="p">(</span><span class="s1">'USA'</span><span class="p">);</span>

<span class="nv">$deliveryAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Address\DeliveryAddress</span><span class="p">();</span>
<span class="nv">$deliveryAddress</span>
    <span class="o">-&gt;</span><span class="nf">setAddress</span><span class="p">(</span><span class="s1">'185 Berry St #550, San Francisco, CA 94107, USA'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCity</span><span class="p">(</span><span class="s1">'San Francisco'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCountry</span><span class="p">(</span><span class="s1">'USA'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setDeliveryType</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\Customer</span><span class="p">();</span>
<span class="nv">$customer</span>
    <span class="o">-&gt;</span><span class="nf">setEmail</span><span class="p">(</span><span class="s1">'customer@email.com'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setPhoneNumber</span><span class="p">(</span><span class="s1">'  +19159969739'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setDeliveryInformation</span><span class="p">(</span><span class="nv">$deliveryAddress</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setBillingInformation</span><span class="p">(</span><span class="nv">$billingAddress</span><span class="p">);</span>

<span class="nv">$card</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Card\SaveCard</span><span class="p">();</span>

<span class="nv">$card</span><span class="o">-&gt;</span><span class="nf">setCustomer</span><span class="p">(</span><span class="nv">$customer</span><span class="p">);</span>
<span class="nv">$card</span><span class="o">-&gt;</span><span class="nf">setCurrency</span><span class="p">(</span><span class="s1">'RON'</span><span class="p">);</span>
<span class="nv">$card</span><span class="o">-&gt;</span><span class="nf">setReturnUrl</span><span class="p">(</span><span class="s1">'https://my-store.com/'</span><span class="p">);</span>

<span class="nv">$cardResponse</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">cards</span><span class="o">-&gt;</span><span class="nf">create</span><span class="p">(</span><span class="nv">$card</span><span class="p">);</span>  <span class="c1">//CardSaveResponse</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$cardResponse</span><span class="o">-&gt;</span><span class="nf">isSuccess</span><span class="p">()){</span>
   <span class="k">return</span> <span class="nf">http_redirect</span><span class="p">(</span><span class="nv">$cardResponse</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="s1">'url'</span><span class="p">])</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="nb">log</span><span class="p">(</span><span class="nv">$cardResponse</span><span class="o">-&gt;</span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deliveryInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"deliveryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"billingInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The above command returns an object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "operationId": "uuid",
  "message": "string",
  "data": {
    "paymentId": "uuid",
    "url": "string"
  }
}
</code></pre></div>
<p>This endpoint creates a card save request and returns the url of hosted card storage page if success.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /api/cards</code></p>
<h3 id='body'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>merchantId*</td>
<td>Your unique merchant ID.</td>
</tr>
<tr>
<td>currency*</td>
<td>Currency code (3 letters).</td>
</tr>
<tr>
<td>returnUrl*</td>
<td>Base64 encoded URL where users will be redirected at the end or where they will be redirected if they choose to cancel current action.</td>
</tr>
<tr>
<td>customer.email*</td>
<td>Customer email address&quot;.</td>
</tr>
<tr>
<td>customer.phoneNumber*</td>
<td>Customer phone number (should start with country phone number prefix).</td>
</tr>
<tr>
<td>customer.deliveryInformation.deliveryType*</td>
<td>Delivery type (e.g.: &quot;Sameday&quot;).</td>
</tr>
<tr>
<td>customer.deliveryInformation.country*</td>
<td>Alpha code of the country set for delivery - 3 letters.</td>
</tr>
<tr>
<td>customer.deliveryInformation.city*</td>
<td>Where you will deliver requested products / services.</td>
</tr>
<tr>
<td>customer.deliveryInformation.address*</td>
<td>Customer physical address set for delivery</td>
</tr>
<tr>
<td>customer.billingInformation.country*</td>
<td>Alpha code of the country set for billing - 3 letters.</td>
</tr>
<tr>
<td>customer.billingInformation.city*</td>
<td>City set for billing</td>
</tr>
<tr>
<td>customer.billingInformation.address*</td>
<td>Customer physical address set for billing</td>
</tr>
</tbody></table>
<h2 id='delete-card'>Delete Card</h2><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$cardResponse</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">cards</span><span class="o">-&gt;</span><span class="nb">delete</span><span class="p">(</span><span class="s1">'cardToken'</span><span class="p">);</span>  <span class="c1">//CardSaveResponse</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$cardResponse</span><span class="p">);</span>

</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The above command returns an object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "operationId": "uuid",
  "message": "string"
}

</code></pre></div>
<p>This endpoint deletes a saved card.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>DELETE /api/cards/{cardToken}</code></p>
<h1 id='payments'>Payments</h1><h2 id='create-payment-request'>Create Payment Request</h2><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$billingAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Address\BillingAddress</span><span class="p">();</span>
<span class="nv">$billingAddress</span>
    <span class="o">-&gt;</span><span class="nf">setAddress</span><span class="p">(</span><span class="s1">'185 Berry St #550, San Francisco, CA 94107, USA'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCity</span><span class="p">(</span><span class="s1">'San Francisco'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCountry</span><span class="p">(</span><span class="s1">'USA'</span><span class="p">);</span>

<span class="nv">$deliveryAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Address\DeliveryAddress</span><span class="p">();</span>
<span class="nv">$deliveryAddress</span>
    <span class="o">-&gt;</span><span class="nf">setAddress</span><span class="p">(</span><span class="s1">'185 Berry St #550, San Francisco, CA 94107, USA'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCity</span><span class="p">(</span><span class="s1">'San Francisco'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCountry</span><span class="p">(</span><span class="s1">'USA'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setDeliveryType</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\Customer</span><span class="p">();</span>
<span class="nv">$customer</span>
    <span class="o">-&gt;</span><span class="nf">setEmail</span><span class="p">(</span><span class="s1">'customer@email.com'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setPhoneNumber</span><span class="p">(</span><span class="s1">'  +19159969739'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setDeliveryInformation</span><span class="p">(</span><span class="nv">$deliveryAddress</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setBillingInformation</span><span class="p">(</span><span class="nv">$billingAddress</span><span class="p">);</span>

<span class="nv">$products</span> <span class="o">=</span> <span class="p">[];</span> 
<span class="nv">$product1</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\BasketItem</span><span class="p">();</span>
<span class="nv">$product1</span>
    <span class="o">-&gt;</span><span class="nf">setExtId</span><span class="p">(</span><span class="s1">'123'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setImageUrl</span><span class="p">(</span><span class="s1">'https://site.com/image/product1.jpg'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setName</span><span class="p">(</span><span class="s1">'Product Name'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setPrice</span><span class="p">(</span><span class="mf">99.99</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setQuantity</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="nv">$products</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$product1</span><span class="p">;</span>

<span class="nv">$product2</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\BasketItem</span><span class="p">();</span>
<span class="nv">$product2</span>
    <span class="o">-&gt;</span><span class="nf">setExtId</span><span class="p">(</span><span class="s1">'123'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setImageUrl</span><span class="p">(</span><span class="s1">'https://site.com/image/product1.jpg'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setName</span><span class="p">(</span><span class="s1">'Product Name'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setPrice</span><span class="p">(</span><span class="mf">99.99</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setQuantity</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="nv">$products</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$product2</span><span class="p">;</span>

<span class="nv">$paymentRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\Payment</span><span class="p">();</span>
<span class="nv">$paymentRequest</span>
    <span class="o">-&gt;</span><span class="nf">setAmount</span><span class="p">(</span><span class="mf">100.00</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCurrency</span><span class="p">(</span><span class="s1">'USD'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtOrderId</span><span class="p">(</span><span class="s1">'external-random-id'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtOrderUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/sample-product.html'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setSuccessUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/order/xxxx/?success=true'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setFailUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/order/xxxx/payment_failed'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setMerchantId</span><span class="p">(</span><span class="s1">'{merchant-id}'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCustomer</span><span class="p">(</span><span class="nv">$customer</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setProducts</span><span class="p">(</span><span class="nv">$products</span><span class="p">)</span>
    <span class="p">;</span>

<span class="nv">$payment</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">payments</span><span class="o">-&gt;</span><span class="nf">create</span><span class="p">(</span><span class="nv">$paymentRequest</span><span class="p">);</span> <span class="c1">//PaymentIntentResponse</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$payment</span><span class="o">-&gt;</span><span class="nf">isSuccess</span><span class="p">()){</span>
   <span class="k">return</span> <span class="nf">http_redirect</span><span class="p">(</span><span class="nv">$payment</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="s1">'url'</span><span class="p">])</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="nb">log</span><span class="p">(</span><span class="nv">$payment</span><span class="o">-&gt;</span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>

</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extOrderUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"successUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"failUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"saveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submerchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"extId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"extId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deliveryInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"deliveryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"billingInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The above command returns an object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "operationId": "uuid",
  "message": "string",
  "data": {
    "paymentId": "uuid",
    "url": "string"
  }
}
</code></pre></div>
<p>This endpoint creates a payment request and returns the url of hosted payment page if success.
You are an ecommerce company and selling your own products.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /api/payments/one-time</code></p>
<h3 id='body'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>merchantId*</td>
<td>Your unique merchant ID.</td>
</tr>
<tr>
<td>cardToken</td>
<td>Stored card token.</td>
</tr>
<tr>
<td>amount*</td>
<td>Payment amount.</td>
</tr>
<tr>
<td>currency*</td>
<td>Currency code (3 letters).</td>
</tr>
<tr>
<td>extOrderId*</td>
<td>Your internal order ID.</td>
</tr>
<tr>
<td>extOrderUrl*</td>
<td>Base64 encoded order URL</td>
</tr>
<tr>
<td>successUrl*</td>
<td>Base64 encoded URL to return on success</td>
</tr>
<tr>
<td>failUrl*</td>
<td>Base64 encoded URL to return on fail</td>
</tr>
<tr>
<td>returnUrl*</td>
<td>Base64 encoded URL where users will be redirected at the end or where they will be redirected if they choose to cancel current action.</td>
</tr>
<tr>
<td>saveCard</td>
<td>Would you like to save credit card and receive a specific stored card token?</td>
</tr>
<tr>
<td>recurring*</td>
<td>boolean, default false.</td>
</tr>
<tr>
<td>customer.email*</td>
<td>Customer email address&quot;.</td>
</tr>
<tr>
<td>customer.phoneNumber*</td>
<td>Customer phone number (should start with country phone number prefix).</td>
</tr>
<tr>
<td>customer.deliveryInformation.deliveryType*</td>
<td>Delivery type (e.g.: &quot;Sameday&quot;).</td>
</tr>
<tr>
<td>customer.deliveryInformation.country*</td>
<td>Alpha code of the country set for delivery - 3 letters.</td>
</tr>
<tr>
<td>customer.deliveryInformation.city*</td>
<td>Where you will deliver requested products / services.</td>
</tr>
<tr>
<td>customer.deliveryInformation.address*</td>
<td>Customer physical address set for delivery</td>
</tr>
<tr>
<td>customer.billingInformation.country*</td>
<td>Alpha code of the country set for billing - 3 letters.</td>
</tr>
<tr>
<td>customer.billingInformation.city*</td>
<td>City set for billing</td>
</tr>
<tr>
<td>customer.billingInformation.address*</td>
<td>Customer physical address set for billing</td>
</tr>
</tbody></table>

<aside class="warning">
(*) required.
</aside>
<h2 id='create-payment-link'>Create Payment Link</h2><div class="highlight"><pre class="highlight php tab-php"><code>
<span class="nv">$paymentRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\PaymentLink</span><span class="p">();</span>
<span class="nv">$paymentRequest</span>
    <span class="o">-&gt;</span><span class="nf">setItemDescription</span><span class="p">(</span><span class="s1">'Sample Product'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCurrency</span><span class="p">(</span><span class="s1">'RON'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setAmount</span><span class="p">(</span><span class="mf">5.20</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExpireAt</span><span class="p">((</span><span class="k">new</span> <span class="nc">DateTime</span><span class="p">())</span><span class="o">-&gt;</span><span class="nf">add</span><span class="p">(</span><span class="k">new</span> <span class="nc">DateInterval</span><span class="p">(</span><span class="s2">"P1Y"</span><span class="p">)))</span>
<span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$payment</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">payments</span><span class="o">-&gt;</span><span class="nf">create</span><span class="p">(</span><span class="nv">$paymentRequest</span><span class="p">);</span> <span class="c1">//PaymentIntentResponse</span>
    <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$payment</span><span class="p">);</span>
<span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="err">\</span><span class="nc">Exception</span> <span class="nv">$e</span><span class="p">){</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expireAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"itemDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The above command returns an object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "operationId": "uuid",
  "message": "string",
  "data": {
    "paymentId": "uuid",
    "url": "string",
    "qr" : "string"
  }
}
</code></pre></div>
<p>This endpoint creates a payment link request and returns the url of hosted payment page if success.
Qr is the url of QrCode that could be used directly as image. </p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /api/payments/link</code></p>
<h3 id='body-2'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>merchantId*</td>
<td>Your unique merchant ID.</td>
</tr>
<tr>
<td>amount*</td>
<td>Payment amount.</td>
</tr>
<tr>
<td>currency*</td>
<td>Currency code (3 letters).</td>
</tr>
<tr>
<td>itemDescription*</td>
<td>Product or Service name</td>
</tr>
<tr>
<td>expireAt*</td>
<td>Expiration date of the link</td>
</tr>
</tbody></table>

<aside class="warning">
(*) required.
</aside>
<h2 id='get-payment'>Get Payment</h2><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$payment</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">payments</span><span class="o">-&gt;</span><span class="nf">get</span><span class="p">(</span><span class="s1">'payment-id'</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>The above command returns object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"operationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To get a single payment object, you can call this endpoint.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /api/payments/{id}</code></p>
<h2 id='marketplace'>Marketplace</h2><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$customer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Customer</span><span class="p">();</span>
<span class="mf">....</span> 

<span class="nv">$product1</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\BasketItem</span><span class="p">();</span>
<span class="nv">$product1</span>
    <span class="o">-&gt;</span><span class="nf">setExtId</span><span class="p">(</span><span class="s1">'123'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setImageUrl</span><span class="p">(</span><span class="s1">'https://site.com/image/product1.jpg'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setName</span><span class="p">(</span><span class="s1">'Product Name'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setPrice</span><span class="p">(</span><span class="mf">99.99</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setQuantity</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="nv">$merchant1Products</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$product1</span><span class="p">;</span>

<span class="c1">//initialize first merchant</span>
<span class="nv">$merchant1</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\Merchant</span><span class="p">();</span>
<span class="nv">$merchant1</span>
    <span class="o">-&gt;</span><span class="nf">setName</span><span class="p">(</span><span class="s1">'Sub Merchant Name'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtId</span><span class="p">(</span><span class="s1">'uuid'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setProducts</span><span class="p">(</span><span class="nv">$merchant1Products</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setAmount</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCommission</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>

<span class="nv">$product2</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\BasketItem</span><span class="p">();</span>
<span class="nv">$product2</span>
    <span class="o">-&gt;</span><span class="nf">setExtId</span><span class="p">(</span><span class="s1">'123'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setImageUrl</span><span class="p">(</span><span class="s1">'https://site.com/image/product2.jpg'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setName</span><span class="p">(</span><span class="s1">'Product Name'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setPrice</span><span class="p">(</span><span class="mf">99.99</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setQuantity</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="nv">$merchant2Products</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$product2</span><span class="p">;</span>

<span class="c1">//initialize second merchant</span>
<span class="nv">$merchant2</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\Merchant</span><span class="p">();</span>
<span class="nv">$merchant2</span>
    <span class="o">-&gt;</span><span class="nf">setName</span><span class="p">(</span><span class="s1">'Second Sub Merchant'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtId</span><span class="p">(</span><span class="s1">'uuid'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setAmount</span><span class="p">(</span><span class="mi">180</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCommission</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setProducts</span><span class="p">(</span><span class="nv">$merchant2Products</span><span class="p">)</span>

<span class="nv">$merchants</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$merchant1</span><span class="p">;</span>
<span class="nv">$merchants</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$merchant2</span><span class="p">;</span>

<span class="nv">$paymentRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\Payment</span><span class="p">();</span>
<span class="nv">$paymentRequest</span>
    <span class="o">-&gt;</span><span class="nf">setAmount</span><span class="p">(</span><span class="mf">100.00</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCurrency</span><span class="p">(</span><span class="s1">'USD'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtOrderId</span><span class="p">(</span><span class="s1">'external-random-id'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtOrderUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/sample-product.html'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setReturnUrl</span><span class="p">(</span><span class="s1">'https://mystore.com'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setSuccessUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/order/123213?success'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setFailUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/order/123213?failed'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setMerchantId</span><span class="p">(</span><span class="s1">'{merchant-id}'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCustomer</span><span class="p">(</span><span class="nv">$customer</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setMerchants</span><span class="p">(</span><span class="nv">$merchants</span><span class="p">)</span> <span class="c1">//add merchants data to payment</span>
    <span class="p">;</span>

<span class="nv">$payment</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">payments</span><span class="o">-&gt;</span><span class="nf">create</span><span class="p">(</span><span class="nv">$paymentRequest</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extOrderUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"successUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"failUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"saveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submerchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"extId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"extId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deliveryInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"deliveryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"billingInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The above command returns object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "operationId": "uuid",
  "message": "string",
  "data": {
    "paymentId": "uuid",
    "url": "string"
  }
}
</code></pre></div>
<p>Lets assume you have multiple sub merchants. And your customer has multiple items from different submerchants in their basket.
So that, you need to add each merchant with products to payment object</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /api/payments/one-time</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>merchantId*</td>
<td>Your unique merchant ID.</td>
</tr>
<tr>
<td>cardToken</td>
<td>Stored card token.</td>
</tr>
<tr>
<td>amount*</td>
<td>Payment amount.</td>
</tr>
<tr>
<td>currency*</td>
<td>Currency code (3 letters).</td>
</tr>
<tr>
<td>extOrderId*</td>
<td>Your internal order ID.</td>
</tr>
<tr>
<td>extOrderUrl*</td>
<td>Base64 encoded order URL.</td>
</tr>
<tr>
<td>returnUrl*</td>
<td>Base64 encoded URL where users will be redirected at the end or where they will be redirected if they choose to cancel current action.</td>
</tr>
<tr>
<td>saveCard</td>
<td>Would you like to save credit card and receive a specific stored card token?</td>
</tr>
<tr>
<td>submerchants[n].extId*</td>
<td>Submerchant ID (from Odero PSP).</td>
</tr>
<tr>
<td>submerchants[n].name*</td>
<td>Submerchant Name (from Odero PSP).</td>
</tr>
<tr>
<td>submerchants[n].amount*</td>
<td>Amount to deposit</td>
</tr>
<tr>
<td>submerchants[n].commission*</td>
<td>Submerchant commission.</td>
</tr>
<tr>
<td>submerchants[n].products[n].extId</td>
<td>Product ID from your application. Products collection is not mandatory.</td>
</tr>
<tr>
<td>submerchants[n].products[n].price</td>
<td>Product price from your application.</td>
</tr>
<tr>
<td>submerchants[n].products[n].quantity</td>
<td>Product quantity.</td>
</tr>
<tr>
<td>submerchants[n].products[n].total</td>
<td>Product price * product quantity.</td>
</tr>
<tr>
<td>submerchants[n].products[n].name</td>
<td>Product name.</td>
</tr>
<tr>
<td>submerchants[n].products[n].image</td>
<td>Base64 encoded image URL.</td>
</tr>
<tr>
<td>customer.email*</td>
<td>Customer email address&quot;.</td>
</tr>
<tr>
<td>customer.phoneNumber*</td>
<td>Customer phone number (should start with country phone number prefix).</td>
</tr>
<tr>
<td>customer.deliveryInformation.deliveryType*</td>
<td>Delivery type (e.g.: &quot;Sameday&quot;).</td>
</tr>
<tr>
<td>customer.deliveryInformation.country*</td>
<td>Alpha code of the country set for delivery - 3 letters.</td>
</tr>
<tr>
<td>customer.deliveryInformation.city*</td>
<td>Where you will deliver requested products / services.</td>
</tr>
<tr>
<td>customer.deliveryInformation.address*</td>
<td>Customer physical address set for delivery</td>
</tr>
<tr>
<td>customer.billingInformation.country*</td>
<td>Alpha code of the country set for billing - 3 letters.</td>
</tr>
<tr>
<td>customer.billingInformation.city*</td>
<td>City set for billing</td>
</tr>
<tr>
<td>customer.billingInformation.address*</td>
<td>Customer physical address set for billing</td>
</tr>
</tbody></table>

<aside class="success">Be sure that each merchant's amount is calculated correctly.</aside>
<h2 id='pay-with-saved-card'>Pay With Saved Card</h2><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$customer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Customer</span><span class="p">();</span>
<span class="mf">....</span> 
<span class="nv">$merchants</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$merchants</span><span class="p">;</span>

<span class="nv">$paymentRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\Payment</span><span class="p">();</span>
<span class="nv">$paymentRequest</span>
    <span class="o">-&gt;</span><span class="nf">setAmount</span><span class="p">(</span><span class="mf">100.00</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCurrency</span><span class="p">(</span><span class="s1">'USD'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtOrderId</span><span class="p">(</span><span class="s1">'external-random-id'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtOrderUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/sample-product.html'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setReturnUrl</span><span class="p">(</span><span class="s1">'https://mystore.com'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setMerchantId</span><span class="p">(</span><span class="s1">'{merchant-id}'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCustomer</span><span class="p">(</span><span class="nv">$customer</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setMerchants</span><span class="p">(</span><span class="nv">$merchants</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCardToken</span><span class="p">(</span><span class="s1">'savedCardToken'</span><span class="p">)</span> <span class="c1">//  add saved card token to payment</span>
    <span class="p">;</span>

<span class="nv">$payment</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">payments</span><span class="o">-&gt;</span><span class="nf">create</span><span class="p">(</span><span class="nv">$paymentRequest</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extOrderUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"saveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submerchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"extId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"extId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deliveryInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"deliveryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"billingInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The above command returns object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "operationId": "uuid",
  "message": "string",
  "data": {
    "paymentId": "uuid",
    "url": "string"
  }
}
</code></pre></div>
<p>If you want to make the payment with a saved card, you need to add <code>cardToken</code> parameter to payment object.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /api/payments/one-time</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cardToken</td>
<td>Stored card token.</td>
</tr>
</tbody></table>
<h1 id='subscriptions'>Subscriptions</h1><h2 id='create-subscription'>Create Subscription</h2><div class="highlight"><pre class="highlight php tab-php"><code><span class="c1">//subscription</span>
<span class="nv">$startDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DateTime</span><span class="p">();</span>
<span class="nv">$endDate</span> <span class="o">=</span> <span class="k">clone</span> <span class="nv">$startDate</span><span class="p">;</span> <span class="nv">$endDate</span><span class="o">-&gt;</span><span class="nf">add</span><span class="p">(</span><span class="nc">DateInterval</span><span class="o">::</span><span class="nf">createFromDateString</span><span class="p">(</span><span class="s1">'1 years'</span><span class="p">));</span>

<span class="nv">$subscription</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Subscription\Subscription</span><span class="p">();</span>
<span class="nv">$subscription</span><span class="o">-&gt;</span><span class="nf">setTimeForBillingUtc</span><span class="p">(</span><span class="s1">'15:00'</span><span class="p">);</span>
<span class="nv">$subscription</span><span class="o">-&gt;</span><span class="nf">setStartDate</span><span class="p">(</span><span class="nv">$startDate</span><span class="o">-&gt;</span><span class="nf">format</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">));</span>
<span class="nv">$subscription</span><span class="o">-&gt;</span><span class="nf">setEndDate</span><span class="p">(</span><span class="nv">$endDate</span><span class="o">-&gt;</span><span class="nf">format</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">));</span>
<span class="nv">$subscription</span><span class="o">-&gt;</span><span class="nf">monthly</span><span class="p">();</span> <span class="c1">//set monthly, weekly or yearly</span>

<span class="nv">$paymentRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="err">\</span><span class="nf">Oderopay\Model\Payment\Payment</span><span class="p">();</span>
<span class="nv">$paymentRequest</span>
    <span class="o">-&gt;</span><span class="nf">setCurrency</span><span class="p">(</span><span class="s1">'USD'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtOrderId</span><span class="p">(</span><span class="s1">'external-random-id'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setExtOrderUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/orders/3244234'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setReturnUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/sample-product.html'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setSuccessUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/order/xxxx/?success=true'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setFailUrl</span><span class="p">(</span><span class="s1">'https://mystore.com/order/xxxx/payment_failed'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setCustomer</span><span class="p">(</span><span class="nv">$customer</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setProducts</span><span class="p">(</span><span class="nv">$products</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="nf">setSubscription</span><span class="p">(</span><span class="nv">$subscription</span><span class="p">)</span> <span class="c1">//  set the subscription</span>
<span class="p">;</span>

<span class="nv">$subscriptionRequest</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">subscriptions</span><span class="o">-&gt;</span><span class="nf">create</span><span class="p">(</span><span class="nv">$paymentRequest</span><span class="p">);</span> <span class="c1">//PaymentIntentResponse</span>

<span class="nf">dump</span><span class="p">(</span><span class="nv">$payment</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$subscriptionRequest</span><span class="o">-&gt;</span><span class="nf">isSuccess</span><span class="p">()){</span>
    <span class="c1">//redirect to $payment-&gt;data['url'];</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
   <span class="c1">//log the message $subscriptionRequest-&gt;message</span>
<span class="p">}</span>


</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extOrderUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"returnUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"successUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"failUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"saveCard"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"recurringInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeForBillingUtc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"submerchants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"extId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"extId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"float"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"imageUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deliveryInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"deliveryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"billingInformation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The above command returns an object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "operationId": "uuid",
  "message": "string",
  "data": {
    "paymentId": "uuid",
    "url": "string"
  }
}
</code></pre></div>
<p>This endpoint creates a payment request and returns the url of hosted payment page if success.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /api/payments/one-time</code></p>
<h3 id='body'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>merchantId*</td>
<td>Your unique merchant ID.</td>
</tr>
<tr>
<td>cardToken</td>
<td>Stored card token.</td>
</tr>
<tr>
<td>amount*</td>
<td>Payment amount.</td>
</tr>
<tr>
<td>currency*</td>
<td>Currency code (3 letters).</td>
</tr>
<tr>
<td>extOrderId*</td>
<td>Your internal order ID.</td>
</tr>
<tr>
<td>extOrderUrl*</td>
<td>Base64 encoded order URL.</td>
</tr>
<tr>
<td>returnUrl*</td>
<td>Base64 encoded URL where users will be redirected at the end or where they will be redirected if they choose to cancel current action.</td>
</tr>
<tr>
<td>saveCard</td>
<td>Would you like to save credit card and receive a specific stored card token?</td>
</tr>
<tr>
<td>recurring*</td>
<td>Setting a new recurring payment.</td>
</tr>
<tr>
<td>recurringInformation.startDate</td>
<td>When will start the recurring payment. Datetime ATOM format expected. Required if recurring is true.</td>
</tr>
<tr>
<td>recurringInformation.endDate</td>
<td>When will end the recurring payment. Datetime ATOM format expected. Required if recurring is true.</td>
</tr>
<tr>
<td>recurringInformation.timeForBillingUtc</td>
<td>Hour and minute when we will debit client account. Required if recurring is true.</td>
</tr>
<tr>
<td>recurringInformation.interval</td>
<td>How often you&#39;d like to debit client account. Available options: Weekly, Monthly and Yearly. Required if recurring is true.</td>
</tr>
<tr>
<td>customer.email*</td>
<td>Customer email address&quot;.</td>
</tr>
<tr>
<td>customer.phoneNumber*</td>
<td>Customer phone number (should start with country phone number prefix).</td>
</tr>
<tr>
<td>customer.deliveryInformation.deliveryType*</td>
<td>Delivery type (e.g.: &quot;Sameday&quot;).</td>
</tr>
<tr>
<td>customer.deliveryInformation.country*</td>
<td>Alpha code of the country set for delivery - 3 letters.</td>
</tr>
<tr>
<td>customer.deliveryInformation.city*</td>
<td>Where you will deliver requested products / services.</td>
</tr>
<tr>
<td>customer.deliveryInformation.address*</td>
<td>Customer physical address set for delivery</td>
</tr>
<tr>
<td>customer.billingInformation.country*</td>
<td>Alpha code of the country set for billing - 3 letters.</td>
</tr>
<tr>
<td>customer.billingInformation.city*</td>
<td>City set for billing</td>
</tr>
<tr>
<td>customer.billingInformation.address*</td>
<td>Customer physical address set for billing</td>
</tr>
</tbody></table>

<aside class="warning">
(*) required.
</aside>
<h2 id='retry'>Retry</h2><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$subscription</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">subscriptions</span><span class="o">-&gt;</span><span class="nf">retry</span><span class="p">(</span><span class="s1">'payment-id'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The above command returns object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "message": "string"
}
</code></pre></div>
<p>If a recurring payment fails, you might want to retry for transaction manually. To do so, you can call the retry endpoint.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /api/payments/{id}/recurring/retry</code></p>
<h2 id='cancel'>Cancel</h2><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$payment</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">subscriptions</span><span class="o">-&gt;</span><span class="nf">cancel</span><span class="p">(</span><span class="s1">'payment-id'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"merchantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The above command returns object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "operationId": "uuid",
  "message": "string",
  "data": {
    "paymentId": "uuid",
    "url": "string"
  }
}
</code></pre></div>
<p>YOu might want to cancel the subscription. To do so, you can call cancel endpoint.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /api/payments/{id}/recurring/retry</code></p>
<h1 id='webhooks'>Webhooks</h1><div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$payload</span> <span class="o">=</span> <span class="o">@</span><span class="nb">file_get_contents</span><span class="p">(</span><span class="s1">'php://input'</span><span class="p">);</span> <span class="c1">// or $_REQUEST</span>
<span class="nv">$message</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">webhooks</span><span class="o">-&gt;</span><span class="nf">handle</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$payload</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>

<span class="k">switch</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nv">$message</span> <span class="k">instanceof</span> <span class="err">\</span><span class="nc">Oderopay\Model\Webhook\Payment</span><span class="o">:</span>        
        <span class="cd">/** @var  \Oderopay\Model\Webhook\Payment $message */</span>
        <span class="nv">$paymentId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getPaymentId</span><span class="p">();</span>

        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="nv">$message</span> <span class="k">instanceof</span> <span class="err">\</span><span class="nc">Oderopay\Model\Webhook\Refund</span><span class="o">:</span>
        <span class="cd">/** @var  Refund $message */</span>
        <span class="nv">$operationId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getOperationId</span><span class="p">();</span>

        <span class="c1">// Then update your data</span>

    <span class="k">case</span> <span class="nv">$message</span> <span class="k">instanceof</span> <span class="err">\</span><span class="nc">Oderopay\Model\Webhook\StoredCard</span><span class="o">:</span>
        <span class="cd">/** @var  \Oderopay\Model\Webhook\StoredCard $message */</span>
        <span class="nv">$cardToken</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getCardToken</span><span class="p">();</span>


        <span class="c1">// Then update your data</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="c1">// ... handle other event types</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="k">echo</span> <span class="s1">'Received unknown webhook '</span> <span class="mf">.</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getStatus</span><span class="p">();</span> <span class="c1">//Should give ERROR</span>
<span class="p">}</span>
</code></pre></div>
<p>Odero uses webhooks (callback) to notify your application when an event happens in your account. Webhooks are particularly useful for asynchronous events like when a customers bank confirms a payment, a customer disputes a charge, a recurring payment succeeds, or when collecting subscription payments.</p>

<p>A webhook enables Odero to push real-time notifications to your app. Odero uses HTTPS to send these notifications to your app as a JSON payload. You can then use these notifications to execute actions in your backend systems.</p>
<h4 id='how-to-create-a-webhook-endpoint'>How to create a webhook endpoint</h4>
<p>Creating a webhook endpoint is no different from creating any other page on your website. Its an HTTP or HTTPS endpoint on your server with a URL. If youre still developing your endpoint on your local machine, it can be HTTP. After its publicly accessible, it must be HTTPS. You can use one endpoint to handle several different event types at once, or set up individual endpoints for specific events.</p>

<p>Then update your webhook (callback) url in merchant admin panel. Odero will send notifications to that url. </p>
<h4 id='webhook-types'>Webhook types</h4>
<p>webhook types could be <code>payment</code>,<code>deposit</code>,<code>refund</code>,<code>reverse</code>,
<code>stored_card</code> or <code>remove_stored_card</code>.</p>
<h2 id='payment'>Payment</h2>
<p>You will receive a payment message after handshake between customer and bank. It could be successful transaction or not. </p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$message</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">webhooks</span><span class="o">-&gt;</span><span class="nf">handle</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$_REQUEST</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>

<span class="cd">/** @var  \Oderopay\Model\Webhook\Payment $message */</span>
<span class="nv">$isDepositMade</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">isDepositMade</span><span class="p">();</span>
<span class="nv">$operationId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getOperationId</span><span class="p">();</span>
<span class="nv">$cardToken</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getCardToken</span><span class="p">();</span>
<span class="nv">$cardExpirationMonth</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getExpirationMonth</span><span class="p">();</span>
<span class="nv">$cardExpirationYear</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getExpirationYear</span><span class="p">();</span>
<span class="nv">$cardLastFourDigits</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getLastFourDigits</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"operationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ed4a356-55ea-67bc-b39f-83aa9247ea19"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment successful."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"depositMade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cardToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastFourDigits"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expirationMonth"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expirationYear"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7cbe2ee3-4324-4c0e-b2f6-4fe2920a77de"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your order id, given on create payment"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>payment</td>
</tr>
<tr>
<td>operationId</td>
<td>Each payment operation id is unique. you can use this value on admin panel.</td>
</tr>
<tr>
<td>status</td>
<td>Status of operation</td>
</tr>
<tr>
<td>message</td>
<td>Detailed message of operation</td>
</tr>
<tr>
<td>data.depositMade</td>
<td>(bool) If false, you need to deposit manually. See marketplace documentation.</td>
</tr>
<tr>
<td>data.cardToken</td>
<td>If customer checked the save card option, you will receive the card token to use in future.</td>
</tr>
<tr>
<td>data.lastFourDigits</td>
<td>If customer checked the save card option, card&#39;s last for digits</td>
</tr>
<tr>
<td>data.expirationMonth</td>
<td>If customer checked the save card option, card&#39;s expire month</td>
</tr>
<tr>
<td>data.expirationYear</td>
<td>If customer checked the save card option, card&#39;s expire year</td>
</tr>
<tr>
<td>data.paymentId</td>
<td>Unique payment ID</td>
</tr>
</tbody></table>
<h2 id='deposit'>Deposit</h2>
<p>You will receive deposit message when you manually deposit a payment.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$message</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">webhooks</span><span class="o">-&gt;</span><span class="nf">handle</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$_REQUEST</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>

<span class="cd">/** @var  \Oderopay\Model\Webhook\Deposit $message */</span>
<span class="nv">$isDepositMade</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">isDepositMade</span><span class="p">();</span>
<span class="nv">$operationId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getOperationId</span><span class="p">();</span>
<span class="nv">$paymentId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getPaymentId</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deposit"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"operationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ed4a34f-60c8-687a-a14d-d53acf3cde4e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deposit successful."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e60d19a-62e0-4d6a-a482-922ff6f01933"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentOperationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ed4a34b-79a1-6fee-ad98-e794f89a217a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.88"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>deposit</td>
</tr>
<tr>
<td>operationId</td>
<td>Each payment operation id is unique. you can use this value on admin panel.</td>
</tr>
<tr>
<td>status</td>
<td>Status of operation</td>
</tr>
<tr>
<td>message</td>
<td>Detailed message of operation</td>
</tr>
<tr>
<td>data.paymentId</td>
<td>Unique payment ID</td>
</tr>
<tr>
<td>data.paymentOperationId</td>
<td>Operation ID of payment.</td>
</tr>
<tr>
<td>data.amount</td>
<td>Deposited amount.</td>
</tr>
</tbody></table>
<h2 id='reverse'>Reverse</h2>
<p>If the payment is not deposited, you can reverse the payment. </p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$message</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">webhooks</span><span class="o">-&gt;</span><span class="nf">handle</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$_REQUEST</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>

<span class="cd">/** @var  \Oderopay\Model\Webhook\Reverse $message */</span>
<span class="nv">$isDepositMade</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">isDepositMade</span><span class="p">();</span>
<span class="nv">$operationId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getOperationId</span><span class="p">();</span>
<span class="nv">$paymentId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getPaymentId</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reverse"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"operationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ed4a34f-60c8-687a-a14d-d53acf3cde4e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reverse successful."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e60d19a-62e0-4d6a-a482-922ff6f01933"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentOperationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ed4a34b-79a1-6fee-ad98-e794f89a217a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.88"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>reverse</td>
</tr>
<tr>
<td>operationId</td>
<td>Each reverse operation id is unique. you can use this value on admin panel.</td>
</tr>
<tr>
<td>status</td>
<td>Status of operation</td>
</tr>
<tr>
<td>message</td>
<td>Detailed message of operation</td>
</tr>
<tr>
<td>data.paymentId</td>
<td>Unique payment ID</td>
</tr>
<tr>
<td>data.paymentOperationId</td>
<td>Operation ID of payment.</td>
</tr>
<tr>
<td>data.amount</td>
<td>Deposited amount.</td>
</tr>
</tbody></table>
<h2 id='refund'>Refund</h2>
<p>If the payment is deposited, you can refund the payment.</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$message</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">webhooks</span><span class="o">-&gt;</span><span class="nf">handle</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$_REQUEST</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>

<span class="cd">/** @var  \Oderopay\Model\Webhook\Refund $message */</span>
<span class="nv">$isDepositMade</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">isDepositMade</span><span class="p">();</span>
<span class="nv">$operationId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getOperationId</span><span class="p">();</span>
<span class="nv">$paymentId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getPaymentId</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refund"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"operationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ed4a34f-60c8-687a-a14d-d53acf3cde4e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Refund successful."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"paymentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e60d19a-62e0-4d6a-a482-922ff6f01933"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"paymentOperationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ed4a34b-79a1-6fee-ad98-e794f89a217a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.88"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>refund</td>
</tr>
<tr>
<td>operationId</td>
<td>Each refund operation id is unique. you can use this value on admin panel.</td>
</tr>
<tr>
<td>status</td>
<td>Status of operation</td>
</tr>
<tr>
<td>message</td>
<td>Detailed message of operation</td>
</tr>
<tr>
<td>data.paymentId</td>
<td>Unique payment ID</td>
</tr>
<tr>
<td>data.paymentOperationId</td>
<td>Operation ID of payment.</td>
</tr>
<tr>
<td>data.amount</td>
<td>Refunded amount.</td>
</tr>
</tbody></table>
<h2 id='stored-card'>Stored Card</h2>
<p>If you use stored card feature, you will receive the message as below</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$message</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">webhooks</span><span class="o">-&gt;</span><span class="nf">handle</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$_REQUEST</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>

<span class="cd">/** @var  \Oderopay\Model\Webhook\StoredCard $message */</span>
<span class="nv">$operationId</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getOperationId</span><span class="p">();</span>
<span class="nv">$cardToken</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getCardToken</span><span class="p">();</span>
<span class="nv">$cardExpirationMonth</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getExpirationMonth</span><span class="p">();</span>
<span class="nv">$cardExpirationYear</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getExpirationYear</span><span class="p">();</span>
<span class="nv">$cardLastFourDigits</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getLastFourDigits</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stored_card"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"operationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ed4ac06-eb95-6a6a-89fb-9b562db4a5db"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Card saved successful."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample token"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastFourDigits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7499"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expirationMonth"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expirationYear"</span><span class="p">:</span><span class="w"> </span><span class="mi">2023</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>stored_card</td>
</tr>
<tr>
<td>operationId</td>
<td>Each store card operation id is unique. you can use this value on admin panel.</td>
</tr>
<tr>
<td>status</td>
<td>Status of operation</td>
</tr>
<tr>
<td>message</td>
<td>Detailed message of operation</td>
</tr>
<tr>
<td>data.cardToken</td>
<td>you will receive the card token to use in payment requests.</td>
</tr>
<tr>
<td>data.lastFourDigits</td>
<td>card&#39;s last for digits</td>
</tr>
<tr>
<td>data.expirationMonth</td>
<td>card&#39;s expire month</td>
</tr>
<tr>
<td>data.expirationYear</td>
<td>card&#39;s expire year</td>
</tr>
</tbody></table>
<h2 id='remove-card'>Remove Card</h2>
<p>If you want to remove stored card, you will receive the message below</p>
<div class="highlight"><pre class="highlight php tab-php"><code><span class="nv">$message</span> <span class="o">=</span> <span class="nv">$oderopay</span><span class="o">-&gt;</span><span class="n">webhooks</span><span class="o">-&gt;</span><span class="nf">handle</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$_REQUEST</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>

<span class="cd">/** @var  \Oderopay\Model\Webhook\StoredCard $message */</span>
<span class="nv">$cardToken</span> <span class="o">=</span> <span class="nv">$message</span><span class="o">-&gt;</span><span class="nf">getCardToken</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"remove_stored_card"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"operationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ed4ade7-c4a0-6d00-a09b-ed7e63f1aa16"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Remove card successful."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"storedCardToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7fbe06bc344424724e79703d39382dcfb542bb83217e11c2a1f465ce07268983"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>remove_stored_card</td>
</tr>
<tr>
<td>operationId</td>
<td>Each store card operation id is unique. you can use this value on admin panel.</td>
</tr>
<tr>
<td>status</td>
<td>Status of operation</td>
</tr>
<tr>
<td>message</td>
<td>Detailed message of operation</td>
</tr>
<tr>
<td>data.storedCardToken</td>
<td>you will receive the card token which has been removed</td>
</tr>
</tbody></table>
<h2 id='status-codes'>Status Codes</h2>
<p>Webhook message status codes could be one of the below;</p>

<table><thead>
<tr>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>SUCCESS</td>
</tr>
<tr>
<td>TRANSACTION_DECLINED</td>
</tr>
<tr>
<td>CANCELLED</td>
</tr>
<tr>
<td>REQUEST_IN_PROGRESS</td>
</tr>
<tr>
<td>COMPLETED_PARTIALLY</td>
</tr>
<tr>
<td>EXPIRED</td>
</tr>
<tr>
<td>INVALID_MERCHANT</td>
</tr>
<tr>
<td>INVALID_INPUT</td>
</tr>
<tr>
<td>INVALID_AMOUNT</td>
</tr>
<tr>
<td>INVALID_CARD_NUMBER</td>
</tr>
<tr>
<td>WRONG_CARD_EXPIRATION_DATE</td>
</tr>
<tr>
<td>EXPIRED_CARD</td>
</tr>
<tr>
<td>CVV_MISMATCH</td>
</tr>
<tr>
<td>INCORRECT_PIN</td>
</tr>
<tr>
<td>ALLOWABLE_NUMBER_OF_PIN_TRIES_EXCEEDED</td>
</tr>
<tr>
<td>RESTRICTED_CARD</td>
</tr>
<tr>
<td>INACTIVE_CARD</td>
</tr>
<tr>
<td>INVALID_CARD</td>
</tr>
<tr>
<td>INVALID_TRANSACTION</td>
</tr>
<tr>
<td>TRANSACTION_COULD_NOT_BE_ROUTED</td>
</tr>
<tr>
<td>TRANSACTION_LIMIT_EXCEEDED</td>
</tr>
<tr>
<td>DUPLICATE_TRANSACTION</td>
</tr>
<tr>
<td>REENTER_TRANSACTION</td>
</tr>
<tr>
<td>INSUFFICIENT_FUNDS</td>
</tr>
<tr>
<td>EXCEEDS_WITHDRAWAL_AMOUNT_LIMIT</td>
</tr>
<tr>
<td>NO_ACTION_TAKEN</td>
</tr>
<tr>
<td>ACTION_NOT_ALLOWED_FOR_PAYMENT</td>
</tr>
<tr>
<td>ALREADY_REVERSED</td>
</tr>
<tr>
<td>CARD_LOST_OR_STOLEN</td>
</tr>
<tr>
<td>SUSPECTED_FRAUD</td>
</tr>
<tr>
<td>ISSUER_DECLINED</td>
</tr>
<tr>
<td>SYSTEM_ERROR</td>
</tr>
<tr>
<td>DO_NOT_HONOR</td>
</tr>
<tr>
<td>AUTHENTICATION_FAILED_3DS2</td>
</tr>
<tr>
<td>UNHANDLED</td>
</tr>
</tbody></table>
<h1 id='open-source'>Open Source</h1>
<p>As Oderopay, we do support open source ecommerce and we created some extensions.</p>
<h2 id='opencart'>Opencart</h2>
<blockquote>
<p>After uploading files to your server, run this command</p>
</blockquote>
<div class="highlight"><pre class="highlight shell"><code>composer require oderopay/odero-php
</code></pre></div><h3 id='installation'>Installation</h3>
<ul>
<li>Download the latest version of extension  from <a href="https://github.com/oderopay/odero-opencart">Github</a>.</li>
<li>Upload the all files in <code>upload</code> directory to your server.</li>
<li>Login to your admin panel and go to Extensions</li>
<li>List Payment extensions and install Oderopay from the list.</li>
</ul>

<p>After installation, run <code>composer require oderopay/odero-php</code> on your server where composer.json file is located.</p>

<p>Your extension is ready for configuration</p>
<h3 id='configuration'>Configuration</h3>
<p>To access configuration list;</p>

<ul>
<li>Login to your admin panel and go to Extensions</li>
<li>List Payment extensions and select Oderopay from the list.</li>
</ul>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Api Type</td>
<td>Live or Testing (sandbox).</td>
</tr>
<tr>
<td>Merchant ID</td>
<td>You Odero MerchantID, you can access this from Odero Merchant Admin</td>
</tr>
<tr>
<td>Token</td>
<td>You Odero Token, you can access this from Odero Merchant Admin</td>
</tr>
<tr>
<td>Payment Value</td>
<td>This value will be replaced on checkout page, you can use translations</td>
</tr>
<tr>
<td>Order Status</td>
<td>The order status will be set after successful transaction</td>
</tr>
<tr>
<td>Order Refund Status</td>
<td>The order status will be set after refund</td>
</tr>
<tr>
<td>Order Reverse Status</td>
<td>The order status will be set after reverse</td>
</tr>
<tr>
<td>Cancel Order Status</td>
<td>The order status will be set after cancel, or going back from payment page.</td>
</tr>
<tr>
<td>Extension Status</td>
<td>Set if the extension is enabled or disabled.</td>
</tr>
</tbody></table>

<aside class="warning">
If the extension is not enabled, payment options will not be activated on customer chekout page.
</aside>
<h3 id='webhooks'>Webhooks</h3>
<p>After a successful installation, we generate url for webhooks. Copy the generated url from Opencart Oderopay extension page and paste to settings under Odero Merchant Admin</p>
<h2 id='woocommerce'>Woocommerce</h2>
<ul>
<li>Download the latest version of extension (zip) from <a href="https://github.com/oderopay/odero-woocommerce/releases/latest">Github</a>.</li>
<li>Go to Wordpress Admin &gt; Plugins &gt; Add New</li>
<li>Click Upload Plugin on top</li>
<li>Select the downloaded zip file and click Install Now button</li>
</ul>
<h3 id='configuration-2'>Configuration</h3>
<p>For Woocommerce settings please go to <code>WooCommerce &gt; Settings &gt; Payments</code> and enable OderoPay</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Enable/Disable</td>
<td>If yes, customers will see the option for Oderopay on checkout page.</td>
</tr>
<tr>
<td>Title</td>
<td>This is the title for customers to see on checkout page.</td>
</tr>
<tr>
<td>Description</td>
<td>This is the title for customers to see on checkout page.</td>
</tr>
<tr>
<td>Merchant ID</td>
<td>You Odero MerchantID, you can access this from Odero Merchant Admin</td>
</tr>
<tr>
<td>Merchant Token</td>
<td>You Odero Token, you can access this from Odero Merchant Admin</td>
</tr>
<tr>
<td>Sandbox Mode</td>
<td>For development purpose to use Odero staging environment</td>
</tr>
<tr>
<td>Merchant ID</td>
<td>You Odero MerchantID, you can access this from Odero Merchant Admin (STG)</td>
</tr>
<tr>
<td>Merchant Token</td>
<td>You Odero Token, you can access this from Odero Merchant Admin (STG)</td>
</tr>
<tr>
<td>Order Status</td>
<td>You should set order statuses during the payment for your custom checkout flow</td>
</tr>
<tr>
<td>Status On Process</td>
<td>This status is set when customer is redirected to Odero Payment Page (default <code>on-hold</code>)</td>
</tr>
<tr>
<td>On Payment Failed</td>
<td>This status is set when payment is failed (default <code>failed</code>)</td>
</tr>
<tr>
<td>On Payment Success</td>
<td>This status is set when payment is success. (default <code>processing</code>)</td>
</tr>
<tr>
<td>Secret Key</td>
<td>A random pasphrase to secure webhook endpoint for IPN</td>
</tr>
<tr>
<td>Enable Logging</td>
<td>Enable loging for debugging, you can access to logs on <code>WooCommerce &gt; Status &gt; Logs</code></td>
</tr>
</tbody></table>
<h1 id='test-cards'>Test Cards</h1>
<table><thead>
<tr>
<th>Card Number</th>
<th>Date</th>
<th>CVV</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>5299121033038343</td>
<td>07/24</td>
<td>742</td>
<td>SUCCESS - BT</td>
</tr>
<tr>
<td>5299121032998810</td>
<td>07/24</td>
<td>081</td>
<td>SUCCESS - BT</td>
</tr>
<tr>
<td>4140496070360295</td>
<td>07/24</td>
<td>931</td>
<td>SUCCESS - BT</td>
</tr>
<tr>
<td>5299121033038343</td>
<td>07/24</td>
<td>100</td>
<td>CVV MISMATCH - BT</td>
</tr>
<tr>
<td>4012000300201199</td>
<td>12/24</td>
<td>111</td>
<td>SUCCESS - SIBS</td>
</tr>
<tr>
<td>4012000300201074</td>
<td>12/24</td>
<td>111</td>
<td>INSUFFICIENT FUNDS - SIBS</td>
</tr>
<tr>
<td>5413330300201293</td>
<td>12/24</td>
<td>111</td>
<td>DO NOT HONOUR - SIBS</td>
</tr>
</tbody></table>

<aside class="warning">
3DS Secure for Banca Transilvania codes are as below.
</aside>

<ul>
<li>step 1. SMS code: 12345</li>
<li>step 2. clients password: Parola123$</li>
</ul>
<h1 id='errors'>Errors</h1>
<aside class="notice">
You will face one of the error codes below if the request is not valid.
</aside>

<p>The Odero API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The value requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified value could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a value with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many values! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
